<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var ws = new WebSocket("wss://echo.websocket.org");
    console.log("--正在连接--",ws.readyState)   // ws.readyState为0
    ws.onopen = function (evt) {
        console.log("Connection open ...", ws.readyState);   //ws.readyState为1
        ws.send("Hello WebSockets!");
    };
    ws.onmessage = function (evt) {
        console.log("Received Message: " + evt.data, ws.readyState);// ws.readyState为1
        ws.close();
        console.log("--正在关闭--",ws.readyState)  //ws.readyState为2
    };
    ws.onclose = function (evt) {
        console.log("Connection closed.", ws.readyState); //ws.readyState为3
    };
</script>

</body>
</html>